<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>LSDNS-GitHub 文件加速</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no" />
    <!-- 图标资源：GitHub图标 + 加载降级 -->
    <link rel="icon" href="https://github.com/favicon.ico" onerror="this.href='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='" />
    <link rel="apple-touch-icon" href="https://github.com/favicon.ico" onerror="this.href='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='" />
    <meta name="author" content="Aether-Themes" />
    <meta name="description" content="GitHub,GitHub文件加速,GitHub代理" />
    <meta name="keywords" content="GitHub,GitHub文件加速,GitHub代理" />
    <meta name="theme-color" content="#00C66B" />

    <!-- 整合CSS：修复响应式，统一移动端布局 -->
    <style>
        :root {
            --primary: #00bfb3;
            --text-secondary: #7b7b7b;
            --border-light: #bfbfbf;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            width: 100%;
            min-height: 100vh;
            cursor: none;
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
        }

        body {
            padding: var(--spacing-md);
            background-color: #fff;
        }

        p {
            word-break: break-all;
            color: var(--text-secondary);
        }

        /* 响应式核心：流式布局 + 移动端适配 */
        @media (max-width: 768px) {
            .hero-header, .hero-footer, .footer-content {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-md);
            }
            .example, .tips {
                margin-left: var(--spacing-md) !important;
            }
            .url {
                max-width: 100%;
            }
            .btn {
                width: 100%;
                max-width: 200px;
            }
        }

        /* 弹性布局工具类 */
        .flex {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-md);
        }

        .block {
            display: block;
            position: relative;
            width: 100%;
        }

        /* 输入框：下划线动画 + 响应式宽度 */
        .url {
            font-size: 16px;
            padding: 12px 10px;
            border: none;
            border-bottom: 1px solid var(--border-light);
            background: transparent;
            transition: border-color 0.2s;
        }

        .url:focus {
            outline: none;
            border-color: var(--primary);
        }

        .bar {
            content: "";
            height: 2px;
            width: 100%;
            bottom: 0;
            left: 0;
            position: absolute;
            background: var(--primary);
            transform: scaleX(0);
            transition: transform 0.2s ease;
        }

        .url:focus ~ .bar {
            transform: scaleX(1);
        }

        /* 按钮： hover反馈 + 响应式宽度 */
        .btn {
            line-height: 40px;
            background-color: var(--primary);
            color: #fff;
            text-align: center;
            font-size: 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
        }

        .btn:hover {
            background-color: #00a89f;
        }

        .btn:active {
            transform: scale(0.98);
        }

        /* 示例与提示区：修复移动端左间距 */
        .example, .tips {
            color: var(--text-secondary);
            position: relative;
            align-self: flex-start;
            margin-left: 7.5em;
            max-width: 100%;
        }

        .tips > p:first-child::before {
            position: absolute;
            left: -3em;
            content: "PS：";
            color: var(--text-secondary);
        }

        .example > p:first-child::before {
            position: absolute;
            left: -7.5em;
            content: "合法输入示例：";
            color: var(--text-secondary);
        }

        /* 鼠标图标：初始透明 + 移动端不遮挡 */
        .mouse {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            position: fixed;
            left: -100px;
            top: 0;
            z-index: 9999;
            pointer-events: none;
            transition: transform 0.05s, opacity 0.2s;
            opacity: 0;
        }

        /* 头部导航：移动端垂直排列 */
        .hero-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
            margin-bottom: var(--spacing-lg);
            flex-wrap: wrap;
        }

        .-logo img {
            width: 32px;
            height: 32px;
        }

        .button {
            padding: 6px 12px;
            border: 1px solid var(--primary);
            color: var(--primary);
            border-radius: 4px;
            text-decoration: none;
            font-size: 14px;
            transition: background 0.2s;
        }

        .button:hover {
            background-color: rgba(0, 191, 179, 0.1);
        }

        /* 文字滚动容器：居中 + 响应式字体 */
        .hero-banner {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: var(--spacing-lg) 0;
            text-align: center;
        }

        .hero-banner h4 {
            margin: var(--spacing-md) 0;
            font-size: clamp(18px, 4vw, 24px);
            color: #333;
        }

        /* 服务运行时间：美化显示 */
        .time {
            font-size: 16px;
            color: var(--primary);
            font-weight: 600;
        }

        .hero-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
            margin-top: var(--spacing-lg);
            border-top: 1px solid var(--border-light);
            flex-wrap: wrap;
        }

        /* 示例区：流式布局，修复挤压 */
        .highlights-header {
            padding: var(--spacing-md) 0;
        }

        .grids, .grid-item, .wrap-article {
            display: block !important;
            width: 100% !important;
            height: auto !important;
        }

        .wrap-article header h4 {
            margin: var(--spacing-md) 0 var(--spacing-sm);
            color: #333;
        }

        /* 页脚：响应式居中 */
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
            border-top: 1px solid var(--border-light);
            flex-wrap: wrap;
        }

        .-copyright {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* 点击文字特效：保留样式，优化z-index */
        .click-effect {
            position: absolute;
            font-weight: bold;
            z-index: 9999;
            pointer-events: none;
            font-size: 14px;
        }

        /* 天气插件：加载失败自动隐藏 */
        #he-plugin-simple {
            z-index: 9998 !important;
        }
    </style>

    <!-- 外部CSS：按顺序引入，确保字体/图标加载 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/css/css-PlayfairDisplay.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/css/css-Poppins400600.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/css/basic-1765b545.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/css/font_954744_g42joo6uzdr.css" />
    <!-- 音乐播放器CSS -->
    <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" />
</head>
<body>
    <!-- 天气插件：保留配置 + 加载失败隐藏 -->
    <div id="he-plugin-simple"></div>
    <script>
        WIDGET = {
            "CONFIG": {
                "modules": "01234",
                "background": "5",
                "tmpColor": "4A86E8",
                "tmpSize": "16",
                "cityColor": "4A86E8",
                "citySize": "16",
                "aqiColor": "4A86E8",
                "aqiSize": "16",
                "weatherIconSize": "24",
                "alertIconSize": "18",
                "padding": "10px 10px 10px 10px",
                "shadow": "1",
                "language": "auto",
                "borderRadius": "5",
                "fixed": "true",
                "vertical": "left",
                "horizontal": "right",
                "right": "10",
                "top": "10",
                "key": "0ab81df2c1134bc5868a61828167daf5"
            }
        }
    </script>
    <script>
        // 天气插件加载失败降级
        window.addEventListener('error', function(e) {
            if (e.target.src && e.target.src.includes('widget.qweather.net')) {
                document.getElementById('he-plugin-simple').style.display = 'none';
            }
        }, true);
    </script>
    <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0" defer></script>

    <!-- 鼠标跟随图标：修复加载 + 移动端尺寸优化 -->
    <img 
        class="mouse" 
        src="https://github.com/favicon.ico" 
        alt="自定义鼠标"
        onerror="this.style.background='#00bfb3'; this.src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='"
        id="customMouse"
    />

    <main>
        <section id="hero" class="hero">
            <div class="hero-content">
                <!-- 头部：Logo + Docker代理，修复链接 -->
                <div class="hero-header">
                    <div class="-logo">
                        <a href="https://github.com/LS-Ze/gh-proxy" target="_blank" rel="noopener">
                            <img 
                                src="https://github.com/favicon.ico" 
                                alt="GitHub Logo"
                                onerror="this.style.background='#000'; this.width=32; this.height=32"
                            />
                        </a>
                    </div>
                    <div class="-cta js--localscroll">
                        <a href="https://docker.lsdns.top/" class="button button--hollow" target="_blank" rel="noopener">docker代理</a>
                    </div>
                </div>

                <!-- 核心区域：表单 + 文字滚动，修复标签闭合 -->
                <div class="hero-banner">
                    <h4><div class="jz ys" id="chakhsu"></div></h4>
                    <form
                        action="https://github.lsdns.top/" 
                        method="get"
                        target="_blank"
                        class="flex"
                        onsubmit="return toSubmit(event)"
                        id="downloadForm"
                    >
                        <label class="block">
                            <input
                                class="block url"
                                name="q"
                                type="text"
                                placeholder="键入Github文件链接"
                                pattern="^((https|http):\/\/)?(github\.com\/.+?\/.+?\/(?:releases|archive|blob|raw|suites)|((?:raw|gist)\.(?:githubusercontent|github)\.com))\/.+$"
                                required 
                                id="githubUrl"
                            />
                            <div class="bar"></div>
                        </label>
                        <input class="block btn" type="submit" value="加速下载" />
                        <div class="-cta">
                            <a href="#section1"><<i data-feather="arrow-down"></</i></a>
                        </div>
                    </form>
                </div>

                <!-- 服务运行时间：修复显示 -->
                <div class="hero-footer">
                    <div class="-counter">
                        <p><small>服务运行时长</small></p>
                        <div id="sitetime" class="time">加载中...</div>
                    </div>
                    <div class="-social">
                        <ul>
                            <li>
                                <a href="tencent://Message/?uin=1248683640" class="facebook" target="_blank" rel="noopener">
                                    <<i class="zm zm-QQ"></</i> 联系开发者
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- 示例说明区：保留内容，修复布局 -->
        <section id="section1" class="highlights styled">
            <hr />
            <div class="highlights-header">
                <h6>合法链接示例</h6>
                <div class="grids">
                    <div class="grid-item">
                        <div class="wrap-article">
                            <p>
                                在本页输入框键入合规链接，点击「加速下载」即可。支持GitHub的 release、archive、raw 等类型链接（带不带协议头都可以），右键复制的链接通常都符合要求。<br><small>⚠️ 不支持项目文件夹，仅支持单个文件/压缩包。</small>
                            </p>
                            <hr />
                            <header>
                                <h4><b>分支源码</b></h4>
                            </header>
                            <p>https://github.com/LS-Ze/project/archive/master.zip</p>
                            <header>
                                <h4><b>Release 源码</b></h4>
                            </header>
                            <p>https://github.com/LS-Ze/project/archive/v0.1.0.tar.gz</p>
                            <header>
                                <h4><b>Release 文件</b></h4>
                            </header>
                            <p>https://github.com/LS-Ze/project/releases/download/v0.1.0/example.zip</p>
                            <header>
                                <h4><b>分支文件</b></h4>
                            </header>
                            <p>https://github.com/LS-Ze/project/blob/master/filename</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 保留原空gallery区域（若有后续功能可扩展） -->
        <div class="gallery">
            <div class="gallery-grid">
                <div class="-image columns large-6 large-offset-1 medium-6 small-12"></div>
            </div>
        </div>

        <section class="clients styled"><hr class="half" /></section>
    </main>

    <!-- 页脚：保留版权信息 -->
    <footer class="footer styled">
        <div class="footer-content">
            <div class="-logo">
                <a href="https://github.com/LS-Ze/gh-proxy" target="_blank" rel="noopener">
                    <img 
                        src="https://github.com/favicon.ico" 
                        alt="GitHub Logo"
                        onerror="this.style.background='#000'; this.width=24; this.height=24"
                    />
                </a>
            </div>
            <p class="-copyright">
                <small>© <time datetime="2023">2023</time> 保留所有权利.</small>
            </p>
        </div>
    </footer>

    <!-- 音乐播放器：保留配置，修复加载 -->
    <meting-js 
        server="netease"
        type="playlist"
        id="2440040711"
        fixed="true"
        autoplay="false"
        data-volume="0.35"
        data-loop="all"
        mini="true"
        order="random"
        id="musicPlayer"
    ></meting-js>

    <!-- 外部JS：修复加载顺序 + 依赖 -->
    <script src="https://libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/feather-cae18e22.js"></script>
    <script data-cfasync="false" src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/email-decode.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/jquery-59e367f0.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/threejs-6ebcc050.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/projector-2f448d36.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/canvasrenderer-0792e9f3.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/imagesloaded-566550fd.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/jquery-countdown-38fb1392.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/jquery-scrollto-94f5d0cb.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/jquery-localscroll-640631e1.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/packery-8c62b54b.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/magnific-popup-c9f972e2.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/slick-carousel-3b41b3bc.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/sphere-dark-16cf345f.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/main-d441790e.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/basic-9ff86e20.js" defer></script>
    <script src="https://fastly.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/wikisj.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/LS-Ze/ls-ze.github.io@main/static/js/xuehua.js" defer></script>
    <!-- 音乐播放器JS -->
    <script src="https://fastly.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" defer></script>
    <script src="https://fastly.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js" defer></script>

    <!-- 核心功能脚本：修复移动端交互 + 特效 -->
    <script>
        $(window).on('load', function() {
            // 1. 显示鼠标图标
            $('#customMouse').css({ opacity: '1', width: '40px', height: '40px' });

            // 2. 彩色文字滚动（保留原逻辑）
            var chakhsu = function (r) {
                function l(t) {
                    for (var e = document.createDocumentFragment(), r = 0; r < t; r++) {
                        var c = document.createElement("span");
                        (c.textContent = String.fromCharCode(94 * Math.random() + 33)),
                        (c.style.color = b[Math.floor(Math.random() * b.length)]),
                        e.appendChild(c);
                    }
                    return e;
                }
                var n = "";
                (o = ["恭喜你发现了宝藏", "日久见人心"].map(function (t) {
                    return t + "";
                })),
                (a = 2),
                (g = 1),
                (s = 5),
                (d = 75),
                (b = [
                    "rgb(110,64,170)", "rgb(150,61,179)", "rgb(191,60,175)", "rgb(228,65,157)", "rgb(254,75,131)",
                    "rgb(255,94,99)", "rgb(255,120,71)", "rgb(251,150,51)", "rgb(226,183,47)", "rgb(198,214,60)",
                    "rgb(175,240,91)", "rgb(127,246,88)", "rgb(82,246,103)", "rgb(48,239,130)", "rgb(29,223,163)",
                    "rgb(26,199,194)", "rgb(35,171,216)", "rgb(54,140,225)", "rgb(76,110,219)", "rgb(96,84,200)"
                ]),
                (c = {
                    text: "",
                    prefixP: -s,
                    skillI: 0,
                    skillP: 0,
                    direction: "forward",
                    delay: a,
                    step: g
                }),
                (function t() {
                    var e = o[c.skillI];
                    c.step
                    ? c.step--
                    : ((c.step = g),
                    c.prefixP < n.length
                    ? (0 <= c.prefixP && (c.text += n[c.prefixP]), c.prefixP++)
                    : "forward" === c.direction
                    ? c.skillP < e.length
                    ? ((c.text += e[c.skillP]), c.skillP++)
                    : c.delay
                    ? c.delay--
                    : ((c.direction = "backward"), (c.delay = a))
                    : 0 < c.skillP
                    ? ((c.text = c.text.slice(0, -1)), c.skillP--)
                    : ((c.skillI = (c.skillI + 1) % o.length),
                    (c.direction = "forward"))),
                    (r.textContent = c.text),
                    r.appendChild(
                        l(
                            c.prefixP < n.length
                            ? Math.min(s, s + c.prefixP)
                            : Math.min(s, e.length - c.skillP)
                        )
                    ),
                    setTimeout(t, d);
                })();
            };
            chakhsu(document.getElementById("chakhsu"));

            // 3. 点击弹出核心价值观（修复移动端触摸）
            var a_idx = 0;
            $("body").off('click touchstart').on('click touchstart', function(e) {
                if (!$(e.target).is('#githubUrl, .btn, a, .mouse')) {
                    var a = ["❤富强❤", "❤民主❤", "❤文明❤", "❤和谐❤", "❤自由❤", "❤平等❤", "❤公正❤", "❤法制❤", "❤爱国❤", "❤敬业❤", "❤诚信❤", "❤友善❤"];
                    var $i = $("<span class='click-effect'></span>").text(a[a_idx]);
                    a_idx = (a_idx + 1) % a.length;
                    var x = e.pageX || e.touches[0].pageX;
                    var y = e.pageY || e.touches[0].pageY;
                    $i.css({
                        "z-index": 9999,
                        "top": y - 20,
                        "left": x,
                        "position": "absolute",
                        "font-weight": "bold",
                        "color": "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
                    });
                    $("body").append($i);
                    $i.animate({
                        "top": y - 180,
                        "opacity": 0
                    }, 3000, function() {
                        $i.remove();
                    });
                }
            });

            // 4. 鼠标跟随（支持触摸设备）
            var mouse = document.getElementById('customMouse');
            function moveMouse(e) {
                if (!mouse) return;
                var x = e.clientX || e.touches[0].clientX;
                var y = e.clientY || e.touches[0].clientY;
                mouse.style.left = x - mouse.offsetWidth / 2 + 'px';
                mouse.style.top = y - mouse.offsetHeight / 2 + 'px';
            }
            window.addEventListener('mousemove', moveMouse);
            window.addEventListener('touchmove', moveMouse, { passive: true });

            // 5. Feather图标初始化
            feather.replace();

            // 6. 服务运行时间计算
            function updateSitetime() {
                var startTime = new Date('2023-01-01 00:00:00').getTime();
                var now = new Date().getTime();
                var diff = now - startTime;
                var days = Math.floor(diff / (1000 * 60 * 60 * 24));
                var hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((diff % (1000 * 60)) / 1000);
                document.getElementById('sitetime').textContent = `${days}天 ${hours}时 ${minutes}分 ${seconds}秒`;
            }
            updateSitetime();
            setInterval(updateSitetime, 1000);

            // 7. 音乐播放器加载失败降级
            if (typeof APlayer === 'undefined') {
                document.getElementById('musicPlayer').style.display = 'none';
            }
        });

        // 8. 表单提交：自动补全协议
        function toSubmit(event) {
            event.preventDefault();
            var input = document.getElementById('githubUrl');
            var url = input.value.trim();
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'https://' + url;
                input.value = url;
            }
            document.getElementById('downloadForm').submit();
            return true;
        }
    </script>
</body>
</html>
